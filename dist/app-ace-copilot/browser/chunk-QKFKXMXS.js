import{a as j,b as A,c as x,d as O,e as G,g as q,h as R,i as H,j as J,k as K,l as Q,n as U}from"./chunk-QX5LECDH.js";import{$a as P,Bb as z,I as o,Ja as L,K as h,M as k,Nb as B,Ob as V,Pa as I,Q as p,T as m,V as y,Wa as M,X as t,Y as e,Z as s,_a as N,ba as _,ca as S,ib as D,ja as r,la as E,qa as F,u as C,wb as T}from"./chunk-RVYV3GKE.js";import{d as w}from"./chunk-4CLCTAJ7.js";function W(n,c){n&1&&(t(0,"div",34),r(1," Campo obrigat\xF3rio "),e())}function X(n,c){n&1&&(t(0,"div",34),r(1," Campo obrigat\xF3rio "),e())}function Y(n,c){n&1&&(t(0,"div",34),r(1," Campo obrigat\xF3rio "),e())}function Z(n,c){if(n&1&&(t(0,"div",35),r(1),e()),n&2){let l=S();o(),E(" ",l.loginError," ")}}function $(n,c){n&1&&(t(0,"span"),r(1,"Entrar"),e())}function ee(n,c){n&1&&(t(0,"div",22),C(),t(1,"svg",36),s(2,"circle",37)(3,"path",38),e(),r(4," Entrando... "),e())}var ge=(()=>{class n{fb;router;authService;loginForm;isLoading=!1;loginError=null;constructor(l,a,i){this.fb=l,this.router=a,this.authService=i,this.loginForm=this.fb.group({companyCode:["",[x.required]],registration:["",[x.required]],password:["",[x.required]],rememberMe:[!1]})}onlyNumbers(l){let a=l.which?l.which:l.keyCode;return a>31&&(a<48||a>57)?(l.preventDefault(),!1):!0}onSubmit(){return w(this,null,function*(){if(this.loginForm.valid){this.isLoading=!0,this.loginError=null;try{yield this.authService.login({registration:this.loginForm.get("registration")?.value,password:this.loginForm.get("password")?.value,companyCode:this.loginForm.get("companyCode")?.value}),this.router.navigate(["/home"])}catch{this.loginError="Erro ao realizar login. Tente novamente."}finally{this.isLoading=!1}}})}static \u0275fac=function(a){return new(a||n)(h(Q),h(M),h(V))};static \u0275cmp=k({type:n,selectors:[["app-login"]],features:[F([],[N({matPerson:z,matLock:T,matBusiness:D})])],decls:50,vars:14,consts:[[1,"min-h-screen","relative","flex","items-center","justify-center","p-4"],[1,"absolute","inset-0","z-0"],["src","/assets/Background-login.png","alt","Background",1,"w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-black/40","dark:bg-black/40"],[1,"max-w-md","w-full","p-8","z-10"],[1,"text-center"],["src","/assets/Logo_.png","alt","Ace Copilot Logo",1,"mx-auto","w-auto"],[1,"mt-4","space-y-6",3,"ngSubmit","formGroup"],["for","companyCode",1,"pl-4","block","text-sm","font-medium","text-white"],[1,"mt-2","relative"],[1,"absolute","inset-y-0","left-0","pl-4","flex","items-center","pointer-events-none"],["name","matBusiness",1,"h-5","w-5","text-gray-400"],["id","companyCode","type","number","formControlName","companyCode","placeholder","Digite o c\xF3digo da empresa","min","0",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500",3,"keypress"],["class","mt-1 text-sm text-red-500",4,"ngIf"],["for","registration",1,"pl-4","block","text-sm","font-medium","text-white"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["name","matPerson",1,"h-5","w-5","text-gray-400"],["id","registration","type","number","formControlName","registration","placeholder","Digite sua matr\xEDcula","min","0",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-full","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500",3,"keypress"],["for","password",1,"pl-4","block","text-sm","font-medium","text-white"],["name","matLock",1,"h-5","w-5","text-gray-400"],["id","password","type","password","formControlName","password","placeholder","Digite sua senha",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-full","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","remember_me","type","checkbox","formControlName","rememberMe",1,"h-4","w-4","text-amber-500","focus:ring-amber-500","border-gray-300","rounded","cursor-pointer"],["for","remember_me",1,"ml-2","block","text-sm","text-white","cursor-pointer"],[1,"text-sm"],["href","#",1,"font-medium","text-amber-400","hover:text-amber-300"],["class","text-red-500 text-sm text-center",4,"ngIf"],["hlmBtn","","type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-full","shadow-sm","text-sm","font-medium","text-white","bg-amber-400","hover:bg-amber-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-amber-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"text-center","mt-4"],[1,"text-sm","text-white"],["routerLink","/register",1,"font-medium","text-amber-400","hover:text-amber-300"],[1,"mt-1","text-sm","text-red-500"],[1,"text-red-500","text-sm","text-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(a,i){if(a&1&&(t(0,"div",0)(1,"div",1),s(2,"img",2)(3,"div",3),e(),t(4,"div",4)(5,"div",5),s(6,"img",6),e(),t(7,"form",7),_("ngSubmit",function(){return i.onSubmit()}),t(8,"div")(9,"label",8),r(10," C\xF3digo da Empresa "),e(),t(11,"div",9)(12,"div",10),s(13,"ng-icon",11),e(),t(14,"input",12),_("keypress",function(d){return i.onlyNumbers(d)}),e()(),p(15,W,2,0,"div",13),e(),t(16,"div")(17,"label",14),r(18," Matr\xEDcula "),e(),t(19,"div",9)(20,"div",15),s(21,"ng-icon",16),e(),t(22,"input",17),_("keypress",function(d){return i.onlyNumbers(d)}),e()(),p(23,X,2,0,"div",13),e(),t(24,"div")(25,"label",18),r(26," Senha "),e(),t(27,"div",9)(28,"div",10),s(29,"ng-icon",19),e(),s(30,"input",20),e(),p(31,Y,2,0,"div",13),e(),t(32,"div",21)(33,"div",22),s(34,"input",23),t(35,"label",24),r(36," Lembrar-me "),e()(),t(37,"div",25)(38,"a",26),r(39," Esqueceu sua senha? "),e()()(),p(40,Z,2,1,"div",27),t(41,"div")(42,"button",28),p(43,$,2,0,"span",29)(44,ee,5,0,"div",30),e()()(),t(45,"div",31)(46,"p",32),r(47," N\xE3o tem uma conta? "),t(48,"a",33),r(49," Solicite seu acesso "),e()()()()()),a&2){let u,d,g,f,b,v;o(7),m("formGroup",i.loginForm),o(7),y("border-red-500",((u=i.loginForm.get("companyCode"))==null?null:u.invalid)&&((u=i.loginForm.get("companyCode"))==null?null:u.touched)),o(),m("ngIf",((d=i.loginForm.get("companyCode"))==null?null:d.invalid)&&((d=i.loginForm.get("companyCode"))==null?null:d.touched)),o(7),y("border-red-500",((g=i.loginForm.get("registration"))==null?null:g.invalid)&&((g=i.loginForm.get("registration"))==null?null:g.touched)),o(),m("ngIf",((f=i.loginForm.get("registration"))==null?null:f.invalid)&&((f=i.loginForm.get("registration"))==null?null:f.touched)),o(7),y("border-red-500",((b=i.loginForm.get("password"))==null?null:b.invalid)&&((b=i.loginForm.get("password"))==null?null:b.touched)),o(),m("ngIf",((v=i.loginForm.get("password"))==null?null:v.invalid)&&((v=i.loginForm.get("password"))==null?null:v.touched)),o(9),m("ngIf",i.loginError),o(2),m("disabled",!i.loginForm.valid||i.isLoading),o(),m("ngIf",!i.isLoading),o(),m("ngIf",i.isLoading)}},dependencies:[I,L,U,q,A,R,j,O,G,K,H,J,P,B],styles:["[_nghost-%COMP%]{display:block}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}return n})();export{ge as LoginComponent};
