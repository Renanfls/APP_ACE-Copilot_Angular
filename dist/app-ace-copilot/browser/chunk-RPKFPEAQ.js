import{b as $,c as s,d as K,e as Q,g as U,h as X,i as Y,j as Z,k as ee,l as te,n as re}from"./chunk-QX5LECDH.js";import{$a as B,Bb as q,Cb as G,I as n,Ja as D,K as S,Lb as H,M as N,Nb as W,Ob as J,Pa as L,Q as u,T as m,V as g,Wa as z,X as r,Y as e,Z as l,_a as A,ba as F,ca as R,ib as O,ja as o,la as T,pb as V,qa as M,u as P,wb as j}from"./chunk-RVYV3GKE.js";import{d as I}from"./chunk-4CLCTAJ7.js";function ie(i,p){i&1&&(r(0,"div",37),o(1," Campo obrigat\xF3rio "),e())}function ne(i,p){i&1&&(r(0,"div",37),o(1," Email inv\xE1lido "),e())}function oe(i,p){i&1&&(r(0,"div",37),o(1," Telefone inv\xE1lido "),e())}function le(i,p){i&1&&(r(0,"div",37),o(1," Campo obrigat\xF3rio "),e())}function ae(i,p){i&1&&(r(0,"div",37),o(1," Campo obrigat\xF3rio "),e())}function me(i,p){i&1&&(r(0,"div",37),o(1," A senha deve ter no m\xEDnimo 6 caracteres "),e())}function de(i,p){if(i&1&&(r(0,"div",38),o(1),e()),i&2){let a=R();n(),T(" ",a.registerError," ")}}function se(i,p){i&1&&(r(0,"span"),o(1,"Solicitar Acesso"),e())}function ue(i,p){i&1&&(r(0,"div",39),P(),r(1,"svg",40),l(2,"circle",41)(3,"path",42),e(),o(4," Enviando... "),e())}var ke=(()=>{class i{fb;router;authService;registerForm;isLoading=!1;registerError=null;constructor(a,d,t){this.fb=a,this.router=d,this.authService=t,this.registerForm=this.fb.group({name:["",[s.required]],email:["",[s.required,s.email]],phone:["",[s.required,s.pattern(/^\(\d{2}\) \d{5}-\d{4}$/)]],companyCode:["",[s.required]],role:["",[s.required]],password:["",[s.required,s.minLength(6)]]})}onlyNumbers(a){let d=a.which?a.which:a.keyCode;return d>31&&(d<48||d>57)?(a.preventDefault(),!1):!0}onSubmit(){return I(this,null,function*(){if(this.registerForm.valid){this.isLoading=!0,this.registerError=null;try{yield this.authService.register(this.registerForm.value),alert("Solicita\xE7\xE3o enviada com sucesso! Aguarde a aprova\xE7\xE3o do administrador."),this.router.navigate(["/login"])}catch(a){this.registerError=a.message||"Erro ao enviar solicita\xE7\xE3o. Tente novamente."}finally{this.isLoading=!1}}})}static \u0275fac=function(d){return new(d||i)(S(te),S(z),S(J))};static \u0275cmp=N({type:i,selectors:[["app-register"]],features:[M([],[A({matPerson:q,matLock:j,matBusiness:O,matPhone:G,matEmail:V,matWork:H})])],decls:68,vars:23,consts:[[1,"min-h-screen","relative","flex","items-center","justify-center","p-4"],[1,"absolute","inset-0","z-0"],["src","/assets/Background-login.png","alt","Background",1,"w-full","h-full","object-cover"],[1,"absolute","inset-0","bg-black/40","dark:bg-black/40"],[1,"max-w-md","w-full","p-8","z-10"],[1,"text-center"],["src","/assets/Logo_.png","alt","Ace Copilot Logo",1,"mx-auto","w-auto"],[1,"mt-4","text-2xl","font-bold","text-white"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],["for","name",1,"pl-4","block","text-sm","font-medium","text-white"],[1,"mt-2","relative"],[1,"absolute","inset-y-0","left-0","pl-4","flex","items-center","pointer-events-none"],["name","matPerson",1,"h-5","w-5","text-gray-400"],["id","name","type","text","formControlName","name","placeholder","Digite seu nome completo",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500"],["class","mt-1 text-sm text-red-500 pl-4",4,"ngIf"],["for","email",1,"pl-4","block","text-sm","font-medium","text-white"],["name","matEmail",1,"h-5","w-5","text-gray-400"],["id","email","type","email","formControlName","email","placeholder","Digite seu email",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500"],["for","phone",1,"pl-4","block","text-sm","font-medium","text-white"],["name","matPhone",1,"h-5","w-5","text-gray-400"],["id","phone","type","tel","formControlName","phone","placeholder","(00) 00000-0000",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500"],["for","companyCode",1,"pl-4","block","text-sm","font-medium","text-white"],["name","matBusiness",1,"h-5","w-5","text-gray-400"],["id","companyCode","type","number","formControlName","companyCode","placeholder","Digite o c\xF3digo da empresa","min","0",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500",3,"keypress"],["for","role",1,"pl-4","block","text-sm","font-medium","text-white"],["name","matWork",1,"h-5","w-5","text-gray-400"],["id","role","type","text","formControlName","role","placeholder","Digite seu cargo",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500"],["for","password",1,"pl-4","block","text-sm","font-medium","text-white"],["name","matLock",1,"h-5","w-5","text-gray-400"],["id","password","type","password","formControlName","password","placeholder","Digite sua senha",1,"block","w-full","pl-11","pr-3","py-2","border","border-gray-300","rounded-full","dark:border-gray-600","shadow-sm","dark:bg-zinc-800","dark:text-white","focus:ring-amber-500","focus:border-amber-500"],["class","text-red-500 text-sm text-center",4,"ngIf"],["hlmBtn","","type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-full","shadow-sm","text-sm","font-medium","text-white","bg-amber-400","hover:bg-amber-600","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-amber-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"text-center","mt-4"],[1,"text-sm","text-white"],["routerLink","/login",1,"font-medium","text-amber-400","hover:text-amber-300"],[1,"mt-1","text-sm","text-red-500","pl-4"],[1,"text-red-500","text-sm","text-center"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-5","w-5","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(d,t){if(d&1&&(r(0,"div",0)(1,"div",1),l(2,"img",2)(3,"div",3),e(),r(4,"div",4)(5,"div",5),l(6,"img",6),r(7,"h2",7),o(8,"Solicitar Acesso"),e()(),r(9,"form",8),F("ngSubmit",function(){return t.onSubmit()}),r(10,"div")(11,"label",9),o(12," Nome Completo "),e(),r(13,"div",10)(14,"div",11),l(15,"ng-icon",12),e(),l(16,"input",13),e(),u(17,ie,2,0,"div",14),e(),r(18,"div")(19,"label",15),o(20," Email "),e(),r(21,"div",10)(22,"div",11),l(23,"ng-icon",16),e(),l(24,"input",17),e(),u(25,ne,2,0,"div",14),e(),r(26,"div")(27,"label",18),o(28," Telefone "),e(),r(29,"div",10)(30,"div",11),l(31,"ng-icon",19),e(),l(32,"input",20),e(),u(33,oe,2,0,"div",14),e(),r(34,"div")(35,"label",21),o(36," C\xF3digo da Empresa "),e(),r(37,"div",10)(38,"div",11),l(39,"ng-icon",22),e(),r(40,"input",23),F("keypress",function(f){return t.onlyNumbers(f)}),e()(),u(41,le,2,0,"div",14),e(),r(42,"div")(43,"label",24),o(44," Cargo "),e(),r(45,"div",10)(46,"div",11),l(47,"ng-icon",25),e(),l(48,"input",26),e(),u(49,ae,2,0,"div",14),e(),r(50,"div")(51,"label",27),o(52," Senha "),e(),r(53,"div",10)(54,"div",11),l(55,"ng-icon",28),e(),l(56,"input",29),e(),u(57,me,2,0,"div",14),e(),u(58,de,2,1,"div",30),r(59,"div")(60,"button",31),u(61,se,2,0,"span",32)(62,ue,5,0,"div",33),e()()(),r(63,"div",34)(64,"p",35),o(65," J\xE1 tem uma conta? "),r(66,"a",36),o(67," Fa\xE7a login "),e()()()()()),d&2){let c,f,v,b,h,y,_,w,x,E,C,k;n(9),m("formGroup",t.registerForm),n(7),g("border-red-500",((c=t.registerForm.get("name"))==null?null:c.invalid)&&((c=t.registerForm.get("name"))==null?null:c.touched)),n(),m("ngIf",((f=t.registerForm.get("name"))==null?null:f.invalid)&&((f=t.registerForm.get("name"))==null?null:f.touched)),n(7),g("border-red-500",((v=t.registerForm.get("email"))==null?null:v.invalid)&&((v=t.registerForm.get("email"))==null?null:v.touched)),n(),m("ngIf",((b=t.registerForm.get("email"))==null?null:b.invalid)&&((b=t.registerForm.get("email"))==null?null:b.touched)),n(7),g("border-red-500",((h=t.registerForm.get("phone"))==null?null:h.invalid)&&((h=t.registerForm.get("phone"))==null?null:h.touched)),n(),m("ngIf",((y=t.registerForm.get("phone"))==null?null:y.invalid)&&((y=t.registerForm.get("phone"))==null?null:y.touched)),n(7),g("border-red-500",((_=t.registerForm.get("companyCode"))==null?null:_.invalid)&&((_=t.registerForm.get("companyCode"))==null?null:_.touched)),n(),m("ngIf",((w=t.registerForm.get("companyCode"))==null?null:w.invalid)&&((w=t.registerForm.get("companyCode"))==null?null:w.touched)),n(7),g("border-red-500",((x=t.registerForm.get("role"))==null?null:x.invalid)&&((x=t.registerForm.get("role"))==null?null:x.touched)),n(),m("ngIf",((E=t.registerForm.get("role"))==null?null:E.invalid)&&((E=t.registerForm.get("role"))==null?null:E.touched)),n(7),g("border-red-500",((C=t.registerForm.get("password"))==null?null:C.invalid)&&((C=t.registerForm.get("password"))==null?null:C.touched)),n(),m("ngIf",((k=t.registerForm.get("password"))==null?null:k.invalid)&&((k=t.registerForm.get("password"))==null?null:k.touched)),n(),m("ngIf",t.registerError),n(2),m("disabled",!t.registerForm.valid||t.isLoading),n(),m("ngIf",!t.isLoading),n(),m("ngIf",t.isLoading)}},dependencies:[L,D,re,U,$,X,K,Q,ee,Y,Z,B,W],styles:["[_nghost-%COMP%]{display:block}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]})}return i})();export{ke as RegisterComponent};
